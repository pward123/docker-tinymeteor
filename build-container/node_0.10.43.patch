diff -Naur buildroot-2015.11.1/package/nodejs/0.10.40/0001-remove-python-bz2-dependency.patch buildroot-2015.11.1-patched/package/nodejs/0.10.40/0001-remove-python-bz2-dependency.patch
--- buildroot-2015.11.1/package/nodejs/0.10.40/0001-remove-python-bz2-dependency.patch	2015-12-05 16:05:32.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.40/0001-remove-python-bz2-dependency.patch	1969-12-31 18:00:00.000000000 -0600
@@ -1,27 +0,0 @@
-Remove dependency on Python bz2 module
-
-The Python bz2 module is only needed in certain cases, so only import
-it when needed. In the normal nodejs build, this allows to remove the
-dependency on this module.
-
-Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
-Index: b/deps/v8/tools/js2c.py
-===================================================================
---- a/deps/v8/tools/js2c.py
-+++ b/deps/v8/tools/js2c.py
-@@ -33,7 +33,6 @@
-
- import os, re, sys, string
- import jsmin
--import bz2
-
-
- def ToCAsciiArray(lines):
-@@ -344,6 +343,7 @@
-   else:
-     raw_sources_declaration = RAW_SOURCES_COMPRESSION_DECLARATION
-     if env['COMPRESSION'] == 'bz2':
-+      import bz2
-       all_sources = bz2.compress("".join(all_sources))
-     total_length = len(all_sources)
-     sources_data = ToCArray(all_sources)
diff -Naur buildroot-2015.11.1/package/nodejs/0.10.40/0002-gyp-force-link-command-to-use-CXX.patch buildroot-2015.11.1-patched/package/nodejs/0.10.40/0002-gyp-force-link-command-to-use-CXX.patch
--- buildroot-2015.11.1/package/nodejs/0.10.40/0002-gyp-force-link-command-to-use-CXX.patch	2015-12-05 16:05:32.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.40/0002-gyp-force-link-command-to-use-CXX.patch	1969-12-31 18:00:00.000000000 -0600
@@ -1,26 +0,0 @@
-From 00d809e9305241f8636a2d75e22c493293e6971a Mon Sep 17 00:00:00 2001
-From: Samuel Martin <s.martin49@gmail.com>
-Date: Sun, 20 Apr 2014 15:03:01 +0200
-Subject: [PATCH] gyp: force link command to use CXX
-
-Signed-off-by: Samuel Martin <s.martin49@gmail.com>
----
- tools/gyp/pylib/gyp/generator/make.py | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
-diff --git a/tools/gyp/pylib/gyp/generator/make.py b/tools/gyp/pylib/gyp/generator/make.py
-index 0de510e..54e4c96 100644
---- a/tools/gyp/pylib/gyp/generator/make.py
-+++ b/tools/gyp/pylib/gyp/generator/make.py
-@@ -134,7 +134,7 @@ cmd_alink_thin = rm -f $@ && $(AR.$(TOOLSET)) crsT $@ $(filter %.o,$^)
- # special "figure out circular dependencies" flags around the entire
- # input list during linking.
- quiet_cmd_link = LINK($(TOOLSET)) $@
--cmd_link = $(LINK.$(TOOLSET)) $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -o $@ -Wl,--start-group $(LD_INPUTS) -Wl,--end-group $(LIBS)
-+cmd_link = $(CXX.$(TOOLSET)) $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -o $@ -Wl,--start-group $(LD_INPUTS) -Wl,--end-group $(LIBS)
-
- # We support two kinds of shared objects (.so):
- # 1) shared_library, which is just bundling together many dependent libraries
---
-1.9.2
-
diff -Naur buildroot-2015.11.1/package/nodejs/0.10.40/0003-use-python-variable.patch buildroot-2015.11.1-patched/package/nodejs/0.10.40/0003-use-python-variable.patch
--- buildroot-2015.11.1/package/nodejs/0.10.40/0003-use-python-variable.patch	2015-12-05 16:05:32.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.40/0003-use-python-variable.patch	1969-12-31 18:00:00.000000000 -0600
@@ -1,43 +0,0 @@
-Use a python variable instead of hardcoding Python
-
-The nodejs build system uses python in a number of locations. However,
-there are some locations where it hardcodes 'python' as the Python
-interpreter. However, this causes problems when we need to use python2
-instead of just python.
-
-This patch fixes that by using the python variable already in place in
-the nodejs build system.
-
-Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
-
-Index: b/deps/v8/tools/gyp/v8.gyp
-===================================================================
---- a/deps/v8/tools/gyp/v8.gyp
-+++ b/deps/v8/tools/gyp/v8.gyp
-@@ -792,7 +792,7 @@
-                 '<(SHARED_INTERMEDIATE_DIR)/libraries.cc',
-               ],
-               'action': [
--                'python',
-+                '<(python)',
-                 '../../tools/js2c.py',
-                 '<@(_outputs)',
-                 'CORE',
-@@ -810,7 +810,7 @@
-                 '<(SHARED_INTERMEDIATE_DIR)/experimental-libraries.cc',
-               ],
-               'action': [
--                'python',
-+                '<(python)',
-                 '../../tools/js2c.py',
-                 '<@(_outputs)',
-                 'EXPERIMENTAL',
-@@ -840,7 +840,7 @@
-                   '<(SHARED_INTERMEDIATE_DIR)/debug-support.cc',
-                 ],
-                 'action': [
--                  'python',
-+                  '<(python)',
-                   '../../tools/gen-postmortem-metadata.py',
-                   '<@(_outputs)',
-                   '<@(heapobject_files)'
diff -Naur buildroot-2015.11.1/package/nodejs/0.10.40/0004-fix-build-error-without-OpenSSL-support.patch buildroot-2015.11.1-patched/package/nodejs/0.10.40/0004-fix-build-error-without-OpenSSL-support.patch
--- buildroot-2015.11.1/package/nodejs/0.10.40/0004-fix-build-error-without-OpenSSL-support.patch	2015-12-05 16:05:32.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.40/0004-fix-build-error-without-OpenSSL-support.patch	1969-12-31 18:00:00.000000000 -0600
@@ -1,54 +0,0 @@
-From d9acdddb42aef48a9504368019beb1ad91c9a0c4 Mon Sep 17 00:00:00 2001
-From: =?UTF-8?q?J=C3=B6rg=20Krause?= <jkrause@posteo.de>
-Date: Mon, 17 Nov 2014 12:34:05 +0100
-Subject: [PATCH 1/1] src/node.cc: fix build error without OpenSSL support
-MIME-Version: 1.0
-Content-Type: text/plain; charset=UTF-8
-Content-Transfer-Encoding: 8bit
-
-Signed-off-by: Jörg Krause <jkrause@posteo.de>
----
- src/node.cc | 5 ++++-
- 1 file changed, 4 insertions(+), 1 deletion(-)
-
-diff --git a/src/node.cc b/src/node.cc
-index 18c743f..cb77f08 100644
---- a/src/node.cc
-+++ b/src/node.cc
-@@ -82,7 +82,6 @@ typedef int mode_t;
- #include "node_script.h"
- #include "v8_typed_array.h"
-
--#include "node_crypto.h"
- #include "util.h"
-
- using namespace v8;
-@@ -2544,8 +2543,10 @@ static void PrintHelp() {
-          "  --trace-deprecation  show stack traces on deprecations\n"
-          "  --v8-options         print v8 command line options\n"
-          "  --max-stack-size=val set max v8 stack size (bytes)\n"
-+#if HAVE_OPENSSL
-          "  --enable-ssl2        enable ssl2\n"
-          "  --enable-ssl3        enable ssl3\n"
-+#endif
-          "\n"
-          "Environment variables:\n"
- #ifdef _WIN32
-@@ -2579,12 +2580,14 @@ static void ParseArgs(int argc, char **argv) {
-       p = 1 + strchr(arg, '=');
-       max_stack_size = atoi(p);
-       argv[i] = const_cast<char*>("");
-+#if HAVE_OPENSSL
-     } else if (strcmp(arg, "--enable-ssl2") == 0) {
-       SSL2_ENABLE = true;
-       argv[i] = const_cast<char*>("");
-     } else if (strcmp(arg, "--enable-ssl3") == 0) {
-       SSL3_ENABLE = true;
-       argv[i] = const_cast<char*>("");
-+#endif
-     } else if (strcmp(arg, "--help") == 0 || strcmp(arg, "-h") == 0) {
-       PrintHelp();
-       exit(0);
---
-2.1.3
-
diff -Naur buildroot-2015.11.1/package/nodejs/0.10.40/0005-fix-musl-USE-MISC-build-issue.patch buildroot-2015.11.1-patched/package/nodejs/0.10.40/0005-fix-musl-USE-MISC-build-issue.patch
--- buildroot-2015.11.1/package/nodejs/0.10.40/0005-fix-musl-USE-MISC-build-issue.patch	2015-12-05 16:05:32.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.40/0005-fix-musl-USE-MISC-build-issue.patch	1969-12-31 18:00:00.000000000 -0600
@@ -1,47 +0,0 @@
-From 0bc482abeb814573251ecafb5a1e045c885b13a2 Mon Sep 17 00:00:00 2001
-From: =?UTF-8?q?J=C3=B6rg=20Krause?= <joerg.krause@embedded.rocks>
-Date: Mon, 25 May 2015 16:22:57 +0200
-Subject: [PATCH 1/1] Fix musl __USE_MISC issue
-MIME-Version: 1.0
-Content-Type: text/plain; charset=UTF-8
-Content-Transfer-Encoding: 8bit
-
-The musl C library does not define __USE_MISC and so libuv (built-in dependency)
-does not use the correct struct stat definition for musl.
-
-The feature test macro __USE_MISC is defined by glibc if _BSD_SOURCE or
-_SVID_SOURCE is defined.
-
-The libuv build system enables the feature test macro _GNU_SOURCE for linux
-builds.
-
-Since glibc 2.19, defining _GNU_SOURCE also has the effect of implicitly
-defining _DEFAULT_SOURCE - the replacement for _BSD_SOURCE and _SVID_SOURCE.
-
-In glibc versions before 2.20, defining _GNU_SOURCE also had the effect of
-implicitly defining _BSD_SOURCE and _SVID_SOURCE. This is also true for uClibc.
-
-Alltogether, we can safely replace __USE_MISC by _GNU_SOURCE to support building
-nodejs 0.10.x with the musl C library.
-
-Signed-off-by: Jörg Krause <joerg.krause@embedded.rocks>
----
- deps/uv/src/fs-poll.c | 2 +-
- 1 file changed, 1 insertion(+), 1 deletion(-)
-
-diff --git a/deps/uv/src/fs-poll.c b/deps/uv/src/fs-poll.c
-index ad27f18..094447e 100644
---- a/deps/uv/src/fs-poll.c
-+++ b/deps/uv/src/fs-poll.c
-@@ -198,7 +198,7 @@ static int statbuf_eq(const uv_statbuf_t* a, const uv_statbuf_t* b) {
-
-   /* Jump through a few hoops to get sub-second granularity on Linux. */
- # if defined(__linux__)
--#  if defined(__USE_MISC) /* _BSD_SOURCE || _SVID_SOURCE */
-+#  if defined(_GNU_SOURCE) /* _BSD_SOURCE || _SVID_SOURCE */
-   if (a->st_ctim.tv_nsec != b->st_ctim.tv_nsec) return 0;
-   if (a->st_mtim.tv_nsec != b->st_mtim.tv_nsec) return 0;
- #  else
---
-2.4.1
-
diff -Naur buildroot-2015.11.1/package/nodejs/0.10.43/0001-remove-python-bz2-dependency.patch buildroot-2015.11.1-patched/package/nodejs/0.10.43/0001-remove-python-bz2-dependency.patch
--- buildroot-2015.11.1/package/nodejs/0.10.43/0001-remove-python-bz2-dependency.patch	1969-12-31 18:00:00.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.43/0001-remove-python-bz2-dependency.patch	2015-12-05 16:05:32.000000000 -0600
@@ -0,0 +1,27 @@
+Remove dependency on Python bz2 module
+
+The Python bz2 module is only needed in certain cases, so only import
+it when needed. In the normal nodejs build, this allows to remove the
+dependency on this module.
+
+Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
+Index: b/deps/v8/tools/js2c.py
+===================================================================
+--- a/deps/v8/tools/js2c.py
++++ b/deps/v8/tools/js2c.py
+@@ -33,7 +33,6 @@
+
+ import os, re, sys, string
+ import jsmin
+-import bz2
+
+
+ def ToCAsciiArray(lines):
+@@ -344,6 +343,7 @@
+   else:
+     raw_sources_declaration = RAW_SOURCES_COMPRESSION_DECLARATION
+     if env['COMPRESSION'] == 'bz2':
++      import bz2
+       all_sources = bz2.compress("".join(all_sources))
+     total_length = len(all_sources)
+     sources_data = ToCArray(all_sources)
diff -Naur buildroot-2015.11.1/package/nodejs/0.10.43/0002-gyp-force-link-command-to-use-CXX.patch buildroot-2015.11.1-patched/package/nodejs/0.10.43/0002-gyp-force-link-command-to-use-CXX.patch
--- buildroot-2015.11.1/package/nodejs/0.10.43/0002-gyp-force-link-command-to-use-CXX.patch	1969-12-31 18:00:00.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.43/0002-gyp-force-link-command-to-use-CXX.patch	2015-12-05 16:05:32.000000000 -0600
@@ -0,0 +1,26 @@
+From 00d809e9305241f8636a2d75e22c493293e6971a Mon Sep 17 00:00:00 2001
+From: Samuel Martin <s.martin49@gmail.com>
+Date: Sun, 20 Apr 2014 15:03:01 +0200
+Subject: [PATCH] gyp: force link command to use CXX
+
+Signed-off-by: Samuel Martin <s.martin49@gmail.com>
+---
+ tools/gyp/pylib/gyp/generator/make.py | 2 +-
+ 1 file changed, 1 insertion(+), 1 deletion(-)
+
+diff --git a/tools/gyp/pylib/gyp/generator/make.py b/tools/gyp/pylib/gyp/generator/make.py
+index 0de510e..54e4c96 100644
+--- a/tools/gyp/pylib/gyp/generator/make.py
++++ b/tools/gyp/pylib/gyp/generator/make.py
+@@ -134,7 +134,7 @@ cmd_alink_thin = rm -f $@ && $(AR.$(TOOLSET)) crsT $@ $(filter %.o,$^)
+ # special "figure out circular dependencies" flags around the entire
+ # input list during linking.
+ quiet_cmd_link = LINK($(TOOLSET)) $@
+-cmd_link = $(LINK.$(TOOLSET)) $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -o $@ -Wl,--start-group $(LD_INPUTS) -Wl,--end-group $(LIBS)
++cmd_link = $(CXX.$(TOOLSET)) $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -o $@ -Wl,--start-group $(LD_INPUTS) -Wl,--end-group $(LIBS)
+
+ # We support two kinds of shared objects (.so):
+ # 1) shared_library, which is just bundling together many dependent libraries
+--
+1.9.2
+
diff -Naur buildroot-2015.11.1/package/nodejs/0.10.43/0003-use-python-variable.patch buildroot-2015.11.1-patched/package/nodejs/0.10.43/0003-use-python-variable.patch
--- buildroot-2015.11.1/package/nodejs/0.10.43/0003-use-python-variable.patch	1969-12-31 18:00:00.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.43/0003-use-python-variable.patch	2015-12-05 16:05:32.000000000 -0600
@@ -0,0 +1,43 @@
+Use a python variable instead of hardcoding Python
+
+The nodejs build system uses python in a number of locations. However,
+there are some locations where it hardcodes 'python' as the Python
+interpreter. However, this causes problems when we need to use python2
+instead of just python.
+
+This patch fixes that by using the python variable already in place in
+the nodejs build system.
+
+Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
+
+Index: b/deps/v8/tools/gyp/v8.gyp
+===================================================================
+--- a/deps/v8/tools/gyp/v8.gyp
++++ b/deps/v8/tools/gyp/v8.gyp
+@@ -792,7 +792,7 @@
+                 '<(SHARED_INTERMEDIATE_DIR)/libraries.cc',
+               ],
+               'action': [
+-                'python',
++                '<(python)',
+                 '../../tools/js2c.py',
+                 '<@(_outputs)',
+                 'CORE',
+@@ -810,7 +810,7 @@
+                 '<(SHARED_INTERMEDIATE_DIR)/experimental-libraries.cc',
+               ],
+               'action': [
+-                'python',
++                '<(python)',
+                 '../../tools/js2c.py',
+                 '<@(_outputs)',
+                 'EXPERIMENTAL',
+@@ -840,7 +840,7 @@
+                   '<(SHARED_INTERMEDIATE_DIR)/debug-support.cc',
+                 ],
+                 'action': [
+-                  'python',
++                  '<(python)',
+                   '../../tools/gen-postmortem-metadata.py',
+                   '<@(_outputs)',
+                   '<@(heapobject_files)'
diff -Naur buildroot-2015.11.1/package/nodejs/0.10.43/0004-fix-musl-USE-MISC-build-issue.patch buildroot-2015.11.1-patched/package/nodejs/0.10.43/0004-fix-musl-USE-MISC-build-issue.patch
--- buildroot-2015.11.1/package/nodejs/0.10.43/0004-fix-musl-USE-MISC-build-issue.patch	1969-12-31 18:00:00.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/0.10.43/0004-fix-musl-USE-MISC-build-issue.patch	2015-12-05 16:05:32.000000000 -0600
@@ -0,0 +1,47 @@
+From 0bc482abeb814573251ecafb5a1e045c885b13a2 Mon Sep 17 00:00:00 2001
+From: =?UTF-8?q?J=C3=B6rg=20Krause?= <joerg.krause@embedded.rocks>
+Date: Mon, 25 May 2015 16:22:57 +0200
+Subject: [PATCH 1/1] Fix musl __USE_MISC issue
+MIME-Version: 1.0
+Content-Type: text/plain; charset=UTF-8
+Content-Transfer-Encoding: 8bit
+
+The musl C library does not define __USE_MISC and so libuv (built-in dependency)
+does not use the correct struct stat definition for musl.
+
+The feature test macro __USE_MISC is defined by glibc if _BSD_SOURCE or
+_SVID_SOURCE is defined.
+
+The libuv build system enables the feature test macro _GNU_SOURCE for linux
+builds.
+
+Since glibc 2.19, defining _GNU_SOURCE also has the effect of implicitly
+defining _DEFAULT_SOURCE - the replacement for _BSD_SOURCE and _SVID_SOURCE.
+
+In glibc versions before 2.20, defining _GNU_SOURCE also had the effect of
+implicitly defining _BSD_SOURCE and _SVID_SOURCE. This is also true for uClibc.
+
+Alltogether, we can safely replace __USE_MISC by _GNU_SOURCE to support building
+nodejs 0.10.x with the musl C library.
+
+Signed-off-by: Jörg Krause <joerg.krause@embedded.rocks>
+---
+ deps/uv/src/fs-poll.c | 2 +-
+ 1 file changed, 1 insertion(+), 1 deletion(-)
+
+diff --git a/deps/uv/src/fs-poll.c b/deps/uv/src/fs-poll.c
+index ad27f18..094447e 100644
+--- a/deps/uv/src/fs-poll.c
++++ b/deps/uv/src/fs-poll.c
+@@ -198,7 +198,7 @@ static int statbuf_eq(const uv_statbuf_t* a, const uv_statbuf_t* b) {
+
+   /* Jump through a few hoops to get sub-second granularity on Linux. */
+ # if defined(__linux__)
+-#  if defined(__USE_MISC) /* _BSD_SOURCE || _SVID_SOURCE */
++#  if defined(_GNU_SOURCE) /* _BSD_SOURCE || _SVID_SOURCE */
+   if (a->st_ctim.tv_nsec != b->st_ctim.tv_nsec) return 0;
+   if (a->st_mtim.tv_nsec != b->st_mtim.tv_nsec) return 0;
+ #  else
+--
+2.4.1
+
diff -Naur buildroot-2015.11.1/package/nodejs/Config.in buildroot-2015.11.1-patched/package/nodejs/Config.in
--- buildroot-2015.11.1/package/nodejs/Config.in	2015-12-05 16:05:32.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/Config.in	2016-02-18 09:21:37.907137826 -0600
@@ -42,7 +42,7 @@
 	  Select the version of Node.js you wish to use.

 config BR2_BR2_PACKAGE_NODEJS_0_10_X
-	bool "v0.10.40"
+	bool "v0.10.43"

 config BR2_BR2_PACKAGE_NODEJS_0_12_X
 	bool "v0.12.7"
@@ -61,7 +61,7 @@

 config BR2_PACKAGE_NODEJS_VERSION_STRING
 	string
-	default "0.10.40"	if BR2_BR2_PACKAGE_NODEJS_0_10_X
+	default "0.10.43"	if BR2_BR2_PACKAGE_NODEJS_0_10_X
 	default "0.12.7"	if BR2_BR2_PACKAGE_NODEJS_0_12_X
 	default "4.1.2"		if BR2_BR2_PACKAGE_NODEJS_4_X

diff -Naur buildroot-2015.11.1/package/nodejs/nodejs.hash buildroot-2015.11.1-patched/package/nodejs/nodejs.hash
--- buildroot-2015.11.1/package/nodejs/nodejs.hash	2015-12-05 16:05:32.000000000 -0600
+++ buildroot-2015.11.1-patched/package/nodejs/nodejs.hash	2016-02-18 09:23:32.910742807 -0600
@@ -1,5 +1,5 @@
-# From upstream URL: http://nodejs.org/dist/v0.10.40/SHASUMS256.txt
-sha256	bae79c2fd959aebe1629af36077bebbb760128db753da226d2344cd91499149f  node-v0.10.40.tar.gz
+# From upstream URL: http://nodejs.org/dist/v0.10.43/SHASUMS256.txt
+sha256	79f694e2a5c42543b75d0c69f6860499d7593136d0f6b59e7163b9e66fb2c995  node-v0.10.43.tar.gz

 # From upstream URL: http://nodejs.org/dist/v0.12.7/SHASUMS256.txt
 sha256	b23d64df051c9c969b0c583f802d5d71de342e53067127a5061415be7e12f39d  node-v0.12.7.tar.gz
